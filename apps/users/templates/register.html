{% extends "base.html" %}

{% block title %} Регистрация {% endblock %}

{% block body %}

<div class="page_layout_register">
    <div class="forms_register">
        <div class="center">
            <div class="logo"></div>
        </div>
        <div class="title_page">Регистрация</div>
        <div id="registration-form">
            <div id="question1" class="question-container active">
                <label for="gender" class="title_form">Какой у Вас пол?</label>
                <select name="" id="gender" class="input-field input_design" onchange="validateInput(1)">
                    <option selected disabled>Выберите пол</option>
                    <option value="Женский">Женский</option>
                    <option value="Мужской">Мужской</option>
                </select>
                <div class="button-container">
                    <button class="button_design" id="next1" onclick="nextQuestion(2)" disabled>Далее</button>
                </div>
            </div>
    
            <div id="question2" class="question-container">
                <label for="age" class="title_form">А возраст какой?</label>
                <input type="number" id="age" class="input-field input_design" oninput="validateInput(2)">
                <div class="button-container">
                    <button class="button_design" onclick="previousQuestion(1)">Назад</button>
                    <button class="button_design" id="next2" onclick="nextQuestion(3)" disabled>Далее</button>
                </div>
            </div>
    
            <div id="question3" class="question-container">
                <label for="country" class="title_form">Из какой вы страны, можно узнать?</label>
                <input type="text" id="country" class="input-field input_design" placeholder="Какая страна?" oninput="validateInput(3)">
                <div class="button-container">
                    <button class="button_design" onclick="previousQuestion(2)">Назад</button>
                    <button class="button_design" id="next3" onclick="nextQuestion(4)" disabled>Далее</button>
                </div>
            </div>
    
            <div id="question4" class="question-container">
                <label for="interested_gender" class="title_form">Какой пол Вам больше интересен?</label>
                <select name="" id="interested_gender" class="input-field input_design" onchange="validateInput(4)">
                    <option selected disabled>Выберите пол</option>
                    <option value="Женский">Женский</option>
                    <option value="Мужской">Мужской</option>
                </select>
                <div class="button-container">
                    <button class="button_design" onclick="previousQuestion(3)">Назад</button>
                    <button class="button_design" id="next4" onclick="nextQuestion(5)" disabled>Далее</button>
                </div>
            </div>
    
            <div id="question5" class="question-container">
                <label for="nickname" class="title_form">Придумайте логин</label>
                <input type="text" id="nickname" class="input-field input_design" placeholder="Логин" oninput="validateInput(5)">
                <div class="button-container">
                    <button class="button_design" onclick="previousQuestion(4)">Назад</button>
                    <button class="button_design" id="next5" onclick="nextQuestion(6)" disabled>Далее</button>
                </div>
            </div>
    
            <div id="question6" class="question-container">
                <label for="password" class="title_form">И пароль нужно придумать :)</label>
                <input type="password" id="password" class="input-field input_design" placeholder="Придумайте пароль" oninput="validateInput(6)">
                <input type="password" id="confirm_password" class="input-field input_design" placeholder="Повторите пароль" oninput="validateInput(6)">
                <div class="button-container">
                    <button class="button_design" onclick="previousQuestion(5)">Назад</button>
                    <button class="button_design" id="submit" onclick="submitForm()" disabled>Регистрация</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function nextQuestion(questionNumber) {
        document.querySelectorAll('.question-container').forEach(container => {
            container.classList.remove('active');
        });
        document.getElementById('question' + questionNumber).classList.add('active');
    }

    function previousQuestion(questionNumber) {
        document.querySelectorAll('.question-container').forEach(container => {
            container.classList.remove('active');
        });
        document.getElementById('question' + questionNumber).classList.add('active');
    }

    function validateInput(questionNumber) {
        let isValid = false;
        if (questionNumber === 1) {
            isValid = document.getElementById('gender').value !== 'Выберите пол';
        } else if (questionNumber === 2) {
            isValid = document.getElementById('age').value.trim() !== '';
        } else if (questionNumber === 3) {
            isValid = document.getElementById('country').value.trim() !== '';
        } else if (questionNumber === 4) {
            isValid = document.getElementById('interested_gender').value !== 'Выберите пол';
        } else if (questionNumber === 5) {
            isValid = document.getElementById('nickname').value.trim() !== '';
        } else if (questionNumber === 6) {
            const password = document.getElementById('password').value.trim();
            const confirmPassword = document.getElementById('confirm_password').value.trim();
            isValid = password !== '' && confirmPassword !== '' && password === confirmPassword;
        }

        if (questionNumber <= 5) {
            document.getElementById('next' + questionNumber).disabled = !isValid;
        } else if (questionNumber === 6) {
            document.getElementById('submit').disabled = !isValid;
        }
    }

    function submitForm() {
        const gender = document.getElementById('gender').value;
        const age = document.getElementById('age').value;
        const country = document.getElementById('country').value;
        const interestedGender = document.getElementById('interested_gender').value;
        const nickname = document.getElementById('nickname').value;
        const password = document.getElementById('password').value;

        // Здесь вы можете отправить данные на сервер
        console.log('Регистрация завершена:', { gender, age, country, interestedGender, nickname, password });

        alert('Ураа, вы зарегистрировались!');
    }
</script>
{% endblock %}